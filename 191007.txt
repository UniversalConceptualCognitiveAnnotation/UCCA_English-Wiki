Sorkin 's last produced screenplay for Castle Rock was The American President and once again he worked with William Goldman , who served as a creative consultant .
